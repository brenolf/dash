function share(a){var b;switch(a){case"facebook":b="https://www.facebook.com/dialog/share?app_id=903632352992329&display=popup&href=http%3A//breno.io/dash&redirect_uri=http%3A//breno.io/dash/close.html";break;case"twitter":b="http://twitter.com/home?status="+TITLE+"+"+URL;break;case"google+":b="https://plus.google.com/share?url="+URL}var c=(H-250)/2,d=(W-500)/2;window.open(b,"Dash","width=500, height=250, top="+c+", left="+d+" scrollbars=yes, status=no, toolbar=no, location=no, directories=no, menubar=no, resizable=no, fullscreen=no")}function achievement(){msg_icon.removeClass().addClass("icon-trophy"),msg.fadeIn(),setTimeout(function(){msg.fadeOut()},1500)}var TITLE="Try to be as fast as you can in Dash!",URL="http://breno.io/dash",W,H,listener=new window.keypress.Listener,msg=null,msg_icon=null,game=null,konami=!1,best=0,BEST_SCORE=0,challenges=[{morph:function(a){return{expected:[a.expected[0]]}}},{constraints:[3,4],rounds:30,morph:function(a){for(var c=a.expected.length,d={expected:[]},e=0;c>e;e++)d.expected.push(mod(a.expected[e]+2,4));return d}},{constraints:[3,4],rounds:20,morph:function(a){return{expected:[a.expected[0],a.expected[0]]}}},{constraints:[1,2,4],rounds:60,morph:function(a,b){return{expected:b.expected,missable:b.missable}}},{first_turn:!1,constraints:[1,2,3],rounds:40,morph:function(){return{expected:[],missable:!1}}}];listener.sequence_combo("up up down down left right left right b a enter",function(){konami^=!0,msg_icon.removeClass().addClass("icon-joystick"),msg.fadeIn(),setTimeout(function(){msg.fadeOut()},1500)}),$(document).ready(function(){$("a.fb").click(function(){share("facebook")}),$("a.tw").click(function(){share("twitter")}),$("a.gp").click(function(){share("google+")}),$("#btn_howto").click(function(){$("#info").fadeIn()}),$("#dismiss").click(function(){$("#info").fadeOut()}),W=$(window).width(),H=$(window).height(),msg=$("#msg"),msg_icon=$("#msg_icon"),best=$("#best"),void 0===$.cookie("best")&&$.cookie("best","0",{expires:365}),BEST_SCORE=$.cookie("best"),best.html(BEST_SCORE),Interface=new DashGUI({panels:["#panel-0","#panel-1"],icons:["#panel-0 i","#panel-1 i"],score:{main:"#score",timer:"#gauge",lives:".lives div",points:"#counter"}},{presets:8,panel:"preset-*",icon:"icon-angle-.",wrong_icon:"icon-cancel",life_lost:"+lost",correct_icon:"+correct",replace_array:["left","up","right","down"]},{1:{panel:"reverse-*"},2:{icon:"icon-angle-double-."},3:{icon:"icon-cw"},4:{icon:"+pressed"}});var a={before_game:function(){},after_game:function(a){a>BEST_SCORE&&($.cookie("best",a,{expires:365}),BEST_SCORE=a,best.html(BEST_SCORE))},best_score:function(){achievement()},lost_life:function(){},got_point:function(){},key_pressed:function(){}};game=new Dash(Interface,a).init(),$("#btn_play").click(function(){game.prepare(konami?42:3,BEST_SCORE,challenges),game.start()})});