var DIRECTIONS=4;!function(a){"use strict";a.DashGUI=function(a,b,c,d){var e=this;d=d?d:700;var f=[],g=1,h=a.panels.length;e.direction=null;var i=0;void 0!==b.base_index&&(i=b.base_index);for(var j=[{x:"100%",y:"0"},{x:"0",y:"100%"},{x:"-100%",y:"0"},{x:"0",y:"-100%"}],k=0;k<a.panels.length;k++)a.panels[k]=$(a.panels[k]);for(var k=0;k<a.icons.length;k++)a.icons[k]=$(a.icons[k]);for(var k in a.score)a.score[k]=$(a.score[k]);var l=function(){var a;do a=~~(Math.random()*b.presets);while(f.has(a));return f.push(a),f.length>=b.presets/2&&f.shift(),a};e.getPanels=function(){return a.panels};var m=function(a,c){var d={addClass:!1,class_name:a};return"+"===a.charAt(0)&&(d.addClass=!0,a=a.substr(1)),void 0!==c&&(a=a.replace(/\*/g,c),void 0!==b.replace_array[c]&&(a=a.replace(/\./g,b.replace_array[c]))),d.class_name=a,d},n=function(a,b,c){b?a.addClass(c):a.removeClass().addClass(c)},o=function(a,b,c){var d=m(b,c);n(a,d.addClass,d.class_name)};e.retrieve=function(f,k,m){e.direction=f;var n=l(),p=mod(g+1,h);a.panels[g].css("z-index",i),a.panels[p].css("z-index",i+1),g=p;var q=k.length,r=a.panels[g],s=a.icons[g];o(r,b.panel,n),o(s,b.icon,f);for(var t=0;q>t;t++)if(k[t]in c){var u=c[k[t]];u.panel&&o(r,u.panel,n),u.icon&&o(s,u.icon,f)}o(a.score.timer,b.timer_color,n);var v=~~(Math.random()*DIRECTIONS),w=j[v];r.css({left:w.x,top:w.y}),r.animate({left:0,top:0},d,m)},e.prepare=function(){a.score.main.css("z-index",2*(i+1)),a.score.timer.css("z-index",2*(i+1)),a.score.timer.parent().fadeIn(),a.score.points.html(0),a.score.main.fadeIn();for(var c=0;c<a.panels.length;c++)a.panels[c].css({top:"-100%",left:"-100%",display:"block"});a.score.timer.css("width",0);var d=m(b.life_lost);a.score.lives.removeClass(d.class_name)},e.dismiss=function(){for(var b=0;b<a.panels.length;b++)a.panels[b].fadeOut();a.score.main.fadeOut(),a.score.timer.parent().fadeOut()},e.fails=function(c){c--,o(a.icons[g],b.wrong_icon,e.direction),void 0!==a.score.lives.eq(c)&&o(a.score.lives.eq(c),b.life_lost)},e.scores=function(c){a.score.points.html(c),o(a.icons[g],b.correct_icon,e.direction)},e.tic=function(b){"block"===a.score.timer.parent().css("display")&&a.score.timer.animate({width:"100%"},b)},e.toc=function(){a.score.timer.stop().css("width",0)},e.hide_timer=function(){e.toc(),a.score.timer.parent().fadeOut()}}}(window);