var DIRECTIONS=4;!function(a){"use strict";a.DashGUI=function(a,b,c,d){var e=this;d=d?d:700;var f=[],g=1,h=a.panels.length;e.direction=null;for(var i=[{x:"100%",y:"0"},{x:"0",y:"100%"},{x:"-100%",y:"0"},{x:"0",y:"-100%"}],j=0;j<a.panels.length;j++)a.panels[j]=$(a.panels[j]);for(var j=0;j<a.icons.length;j++)a.icons[j]=$(a.icons[j]);for(var j in a.score)a.score[j]=$(a.score[j]);var k=function(){var a;do a=~~(Math.random()*b.presets);while(f.has(a));return f.push(a),f.length>=b.presets/2&&f.shift(),a},l=function(a,c){var d={addClass:!1,class_name:a};return"+"===a.charAt(0)&&(d.addClass=!0,a=a.substr(1)),void 0!==c&&(a=a.replace(/\*/g,c),void 0!==b.replace_array[c]&&(a=a.replace(/\./g,b.replace_array[c]))),d.class_name=a,d},m=function(a,b,c){b?a.addClass(c):a.removeClass().addClass(c)},n=function(a,b,c){var d=l(b,c);m(a,d.addClass,d.class_name)};e.retrieve=function(f,j,l){e.direction=f;var m=k(),o=mod(g+1,h);a.panels[g].css("z-index",0),a.panels[o].css("z-index",1),g=o;var p=j.length,q=a.panels[g],r=a.icons[g];n(q,b.panel,m),n(r,b.icon,f);for(var s=0;p>s;s++)if(j[s]in c){var t=c[j[s]];t.panel&&n(q,t.panel,m),t.icon&&n(r,t.icon,f)}var u=~~(Math.random()*DIRECTIONS),v=i[u];q.css({left:v.x,top:v.y}),q.animate({left:0,top:0},d,l)},e.prepare=function(){a.score.points.html(0),a.score.main.fadeIn();for(var c=0;c<a.panels.length;c++)a.panels[c].css({top:"-100%",left:"-100%",display:"block"});a.score.timer.css("width",0);var d=l(b.life_lost);a.score.lives.removeClass(d.class_name)},e.dismiss=function(){for(var b=0;b<a.panels.length;b++)a.panels[b].fadeOut();a.score.main.fadeOut()},e.fails=function(c){c--,n(a.icons[g],b.wrong_icon,e.direction),n(a.score.lives.eq(c),b.life_lost)},e.scores=function(c){a.score.points.html(c),n(a.icons[g],b.correct_icon,e.direction)},e.tic=function(b){a.score.timer.css("width",0).animate({width:"100%"},b)},e.toc=function(){a.score.timer.stop()}}}(window);